"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[848],{197:function(e,n,r){r.d(n,{v:function(){return s}});var t=r(861),a=r(757),u=r.n(a),o=r(263);o.Z.defaults.baseURL="https://api.themoviedb.org/3";var s=function(){var e=(0,t.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get(n,{params:{api_key:"95e0a9f6333c954132e51c9aa189b3ea"}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},848:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t,a=r(861),u=r(439),o=r(757),s=r.n(o),i=r(791),c=r(197),l=r(87),p=r(689),f=r(168),d=r(444).ZP.form(t||(t=(0,f.Z)(["\n  padding: 20px;\n  input {\n    border-radius: 4px;\n    :focus {\n      border: 2px solid #a11e1e;\n      outline: none;\n    }\n  }\n  button {\n    height: 24px;\n    margin-left: 20px;\n    color: #fff;\n    background-color: #a11e1e;\n    border-radius: 4px;\n    border: none;\n    :hover {\n      cursor: pointer;\n      color: #a11e1e;\n      background-color: #fff;\n      border: 2px solid #a11e1e;\n    }\n  }\n"]))),h=r(184),v=function(){var e=(0,l.lr)(),n=(0,u.Z)(e,2),r=n[0],t=n[1],o=r.get("query"),f=(0,i.useState)([]),v=(0,u.Z)(f,2),x=v[0],m=v[1],g=(0,i.useState)(null),b=(0,u.Z)(g,2),y=b[0],j=b[1],k=(0,i.useState)(!1),w=(0,u.Z)(k,2),Z=w[0],_=w[1],S=(0,p.TH)();(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,(0,c.v)("/search/movie?query=".concat(o));case 4:(n=e.sent).data.results.length<1?(m([]),alert("Sorry, there are no movies matching your search query. Please try again.")):m(n.data.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),j("Something went wrong. Please try again.");case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();null!==o&&e()}),[o]);return(0,h.jsxs)("div",{children:[(0,h.jsxs)(d,{onSubmit:function(e){e.preventDefault();var n=e.target.elements.input.value;""===n?alert("Type something!"):t({query:n}),e.target.elements.input.value=""},children:[(0,h.jsx)("input",{name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,h.jsx)("button",{type:"submit",children:(0,h.jsx)("span",{children:"Search"})})]}),(0,h.jsx)("ul",{children:o&&x.map((function(e){var n=e.id,r=e.title;return(0,h.jsx)("li",{children:(0,h.jsx)(l.rU,{to:"".concat(n),state:{from:S},children:r})},n)}))}),Z&&(0,h.jsx)("p",{children:"Loading..."}),y&&(0,h.jsx)("p",{children:y})]})}}}]);
//# sourceMappingURL=848.04961309.chunk.js.map